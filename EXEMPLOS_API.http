/**
 * Arquivo de teste - Exemplos de requisiÃ§Ãµes HTTP
 * Importe este arquivo em ferramentas como:
 * - Insomnia (https://insomnia.rest/)
 * - Postman (https://www.postman.com/)
 * - Thunder Client (VS Code Extension)
 */

// ==================================================
// VARIÃVEIS GLOBAIS
// ==================================================
// Configure estas variÃ¡veis de acordo com seu ambiente

const BASE_URL = "http://localhost:3002";
const ADMIN_SECRET = "seu_secret_super_seguro";
const TOKEN_HAXBALL = "thr1.COLOQUE_SEU_TOKEN_AQUI";

// ==================================================
// 1. VERIFICAR STATUS DO SERVIDOR
// ==================================================

// Request: GET /health
GET {{BASE_URL}}/health

// ==================================================
// 2. LISTAR TODAS AS SALAS
// ==================================================

// Request: GET /status
GET {{BASE_URL}}/status

// ==================================================
// 3. LISTAR CONFIGURAÃ‡ÃƒO DAS SALAS
// ==================================================

// Request: GET /rooms
GET {{BASE_URL}}/rooms
Authorization: Bearer {{ADMIN_SECRET}}

// ==================================================
// 4. CRIAR NOVA SALA
// ==================================================

// Request: POST /rooms
POST {{BASE_URL}}/rooms
Authorization: Bearer {{ADMIN_SECRET}}
Content-Type: application/json

{
  "id": 1,
  "roomName": "ðŸ”´âš« FUTSAL VEM TRANQUILO âš«ðŸ”´",
  "maxPlayers": 30,
  "token": "{{TOKEN_HAXBALL}}",
  "public": true,
  "geo": {
    "code": "BR"
  }
}

// ==================================================
// 5. ATUALIZAR CONFIGURAÃ‡ÃƒO DE SALA EXISTENTE
// ==================================================

// Request: POST /rooms
POST {{BASE_URL}}/rooms
Authorization: Bearer {{ADMIN_SECRET}}
Content-Type: application/json

{
  "id": 1,
  "roomName": "FUTSAL VEM TRANQUILO - UPDATED",
  "maxPlayers": 20,
  "token": "{{TOKEN_HAXBALL}}",
  "public": true
}

// ==================================================
// 6. DELETAR SALA
// ==================================================

// Request: DELETE /rooms/:id
DELETE {{BASE_URL}}/rooms/1
Authorization: Bearer {{ADMIN_SECRET}}

// ==================================================
// 7. EXECUTAR COMANDO - REINICIAR SALA
// ==================================================

// Request: POST /admin-command
POST {{BASE_URL}}/admin-command
Authorization: Bearer {{ADMIN_SECRET}}
Content-Type: application/json

{
  "roomId": 1,
  "command": "restart"
}

// ==================================================
// 8. EXECUTAR COMANDO - LIMPAR BANIMENTOS
// ==================================================

// Request: POST /admin-command
POST {{BASE_URL}}/admin-command
Authorization: Bearer {{ADMIN_SECRET}}
Content-Type: application/json

{
  "roomId": 1,
  "command": "clearbans"
}

// ==================================================
// 9. ENVIAR MENSAGEM DO DISCORD PARA SALA
// ==================================================

// Request: POST /discord-chat
POST {{BASE_URL}}/discord-chat
Content-Type: application/json

{
  "roomId": 1,
  "author": "Admin",
  "message": "OlÃ¡ galera! Bem-vindos ao futsal!"
}

// ==================================================
// 10. EXEMPLOS BASH/CURL
// ==================================================

/*
# Verificar status
curl http://localhost:3002/health

# Listar salas
curl http://localhost:3002/status

# Criar sala
curl -X POST http://localhost:3002/rooms \
  -H "Authorization: Bearer seu_secret_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "id": 1,
    "roomName": "Minha Sala",
    "token": "thr1.ABC...",
    "maxPlayers": 30
  }'

# Deletar sala
curl -X DELETE http://localhost:3002/rooms/1 \
  -H "Authorization: Bearer seu_secret_aqui"

# Reiniciar sala
curl -X POST http://localhost:3002/admin-command \
  -H "Authorization: Bearer seu_secret_aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "roomId": 1,
    "command": "restart"
  }'

# Enviar mensagem
curl -X POST http://localhost:3002/discord-chat \
  -H "Content-Type: application/json" \
  -d '{
    "roomId": 1,
    "author": "Admin",
    "message": "Oi!"
  }'
*/

// ==================================================
// 11. EXEMPLOS JavaScript/Fetch
// ==================================================

/*
// Criar sala
fetch('http://localhost:3002/rooms', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer seu_secret_aqui',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    id: 1,
    roomName: 'Minha Sala',
    token: 'thr1.ABC...',
    maxPlayers: 30
  })
})
.then(res => res.json())
.then(data => console.log(data))
.catch(err => console.error(err));

// Verificar status
fetch('http://localhost:3002/status')
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err));

// Deletar sala
fetch('http://localhost:3002/rooms/1', {
  method: 'DELETE',
  headers: {
    'Authorization': 'Bearer seu_secret_aqui'
  }
})
.then(res => res.json())
.then(data => console.log(data))
.catch(err => console.error(err));

// Reiniciar sala
fetch('http://localhost:3002/admin-command', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer seu_secret_aqui',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    roomId: 1,
    command: 'restart'
  })
})
.then(res => res.json())
.then(data => console.log(data))
.catch(err => console.error(err));
*/
